{% extends "base.html" %}

{% block content %}
  <section class="grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6">

    <!-- ستون چپ: انتخاب ارز و تنظیمات -->
    <div class="space-y-4 lg:col-span-1">
      <section class="card bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-4">
        <div class="flex items-center justify-between gap-2">
          <h2 class="text-base font-semibold">انتخاب ارزها <span id="selected-count" class="text-xs text-gray-500">—</span></h2>
          <div class="flex items-center gap-2">
            <label class="flex items-center gap-2 text-sm">
              <input id="select-all" type="checkbox" class="w-4 h-4" />
              <span>انتخاب همه</span>
            </label>
            <button id="clear-state" class="text-xs px-2 py-1 bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400 rounded hover:bg-red-200 dark:hover:bg-red-800 transition-colors">
              پاک کردن همه
            </button>
            <button id="save-selection" class="text-xs px-2 py-1 bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400 rounded hover:bg-green-200 dark:hover:bg-green-800 transition-colors">
              ذخیره انتخاب
            </button>
          </div>
        </div>

        <div class="mt-3">
          <div class="flex items-center gap-2">
            <input id="coin-search" type="text" inputmode="latin" autocomplete="off"
                   placeholder="جستجوی نماد (مثلاً BTC)…"
                   class="flex-1 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500/30 bg-white dark:bg-gray-900 placeholder-gray-400 dark:placeholder-gray-400">
            <span id="search-result-count" class="text-xs text-gray-500">—</span>
          </div>
        </div>

        <ul id="coin-list" class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2 mt-3 text-sm"></ul>
        <p id="no-results" class="hidden text-xs text-gray-500 dark:text-gray-400 mt-2">نتیجه‌ای یافت نشد.</p>

        <p class="text-gray-500 dark:text-gray-400 text-xs mt-2">با تیک‌زدن/برداشتن، کارت آن ارز اضافه/حذف می‌شود.</p>
      </section>

      {% include "partials/signal-settings.html" %}
    </div>

    <!-- ستون راست: کارت‌های ارزهای انتخاب‌شده -->
    <div class="lg:col-span-2">
      <section id="coins-container" class="space-y-4"></section>
    </div>

  </section>
{% endblock %}
